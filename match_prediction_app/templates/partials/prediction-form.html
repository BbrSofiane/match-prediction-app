{# Prediction form. Submission triggered when the "Submit" button is clicked #}

<form
    class="inline"
    hx-trigger="click from:#predict-fixture-{{ fixture.pk }}"
    hx-post="{% url 'submit-prediction' fixture.pk %}"
    hx-target="closest .prediction-container"
    hx-swap="outerHTML">
    <input class="h-8 border-gray-200 border-2 p-2 rounded"
        type="number"
        min="0"
        max="30"
        class="prediction-input"
        name="home_goals"
        {% if prediction.home_goals %}value="{{ prediction.home_goals }}"{% endif %}
        @keyup="submittable = $el.value.length && $el.nextElementSibling.value.length"
        @change="submittable = $el.value.length && $el.nextElementSibling.value.length"
        required
    />
    <input class="h-8 border-gray-200 border-2 p-2 rounded"
        type="number"
        min="0"
        max="30"
        class="prediction-input"
        name="away_goals"
        {% if prediction.away_goals %}value="{{ prediction.away_goals }}"{% endif %}
        @keyup="submittable = $el.value.length && $el.previousElementSibling.value.length"
        @change="submittable = $el.value.length && $el.previousElementSibling.value.length"
        required
    />
</form>
